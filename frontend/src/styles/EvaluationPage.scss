/* src/styles/EvaluationPage.scss (UPDATED FOR SINGLE BERAKHLAK CATEGORY) */

// Variabel warna dan transisi
$primary: #2c549c;
$success: #198754;
$info: #0dcaf0;
$warning: #ffc107;
$light-gray: #f8f9fa;
$darker-gray: #e9ecef;
$border-color: #dee2e6;
$text-muted: #6c757d;
$accent-blue: #007bff;

@mixin transition($property: all, $duration: 0.3s) {
  transition: $property $duration ease-in-out;
}

// Kontainer utama
.evaluation-page-container {
  max-width: 1100px;
  margin: 0 auto;
}

// Header
.evaluation-header {
  background: linear-gradient(135deg, lighten($primary, 5%), $primary);
  color: white;
  padding: 2rem 1.5rem;
  margin-bottom: 2rem;
  position: relative;
  overflow: hidden;

  @media (min-width: 768px) {
    padding: 2.5rem;
    border-radius: 1rem;
  }

  h1 { font-weight: 700; font-size: 1.75rem; }

  .progress-wrapper {
    background: rgba(0, 0, 0, 0.15);
    border-radius: 50px;
    padding: 4px;
    .progress-bar { border-radius: 50px; @include transition; background: linear-gradient(90deg, $warning, lighten($warning, 15%)); box-shadow: 0 0 10px rgba($warning, 0.5); }
  }
}

// Wrapper untuk setiap langkah
.step-wrapper {
  animation: fadeIn 0.5s ease-out;
}
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

// Step 1: Halaman Perkenalan
.intro-section {
  .intro-card { border: none; border-radius: 1rem; box-shadow: 0 8px 30px rgba(0,0,0,0.08); }
  .berakhlak-values-list .value-item { display: flex; align-items: flex-start; margin-bottom: 1.25rem; .value-icon { flex-shrink: 0; width: 45px; height: 45px; background-color: lighten($primary, 48%); color: $primary; border-radius: 12px; margin-right: 1rem; display: flex; align-items: center; justify-content: center; font-size: 1.1rem; } }
  .how-to-card { background-color: $darker-gray; border: 1px solid #d8dde2; border-radius: 1rem; padding: 2rem; height: 100%; }
  .step-item { display: flex; align-items: flex-start; margin-bottom: 1.5rem; .step-icon { flex-shrink: 0; width: 50px; height: 50px; background-color: lighten($primary, 45%); color: $primary; border-radius: 50%; margin-right: 1rem; font-size: 1.2rem; } }
  .btn-start-evaluation { font-size: 1.25rem; font-weight: 700; padding: 1rem 3rem; border-radius: 50px; box-shadow: 0 4px 15px rgba($warning, 0.4); @include transition; &:hover { transform: scale(1.05); } }
}

.selected-user-info .alert {
  border-radius: 1rem;
  border: 2px solid $accent-blue; // Border solid dengan warna aksen
  background: linear-gradient(135deg, lighten($accent-blue, 45%), lighten($accent-blue, 55%)); // Gradient latar belakang
  color: darken($accent-blue, 30%); // Warna teks kontras
  padding: 1.5rem 2rem; // Padding lebih besar
  font-weight: 500;
  box-shadow: 0 6px 20px rgba($accent-blue, 0.3); // Shadow menonjol
  display: flex; 
  flex-direction: column; // Stack konten di dalam alert
  align-items: flex-start; // Konten rata kiri
  position: relative;
  overflow: hidden;

  strong {
    color: $primary; // Nama pegawai sangat menonjol dengan warna utama
    font-size: 1.25rem; // Ukuran font lebih besar
    margin-bottom: 0.2rem;
    display: block;
    text-shadow: 0 1px 2px rgba(0,0,0,0.1);
  }
  small {
    font-size: 0.9rem; 
    line-height: 1.4;
    color: $text-muted; // Warna muted untuk jabatan
  }
}

@keyframes pulseLight {
  0% { transform: scale(1); box-shadow: 0 6px 20px rgba($accent-blue, 0.3); }
  100% { transform: scale(1.01); box-shadow: 0 8px 25px rgba($accent-blue, 0.4); }
}

// ðŸ”¥ UPDATED: Simplified Selection Card (Step 2 - single choice)
// Menghapus styling carousel dan panah karena tidak lagi dibutuhkan
.selection-card {
  border-radius: 1rem;
  background-color: #fff;
  box-shadow: 0 4px 20px rgba(44, 84, 156, 0.12);
  overflow: hidden;
  height: 100%;
  border: 1px solid $border-color;
  .tokoh-header {
    padding: 1rem 1.25rem;
    color: white;
    font-weight: 600;
    // Gunakan warna utama untuk header tokoh tunggal
    background: linear-gradient(135deg, $primary, lighten($primary, 15%)); 
  }
  .p-3 { padding: 1.25rem !important; }
}

// Hapus gaya carousel dan tombol panah jika tidak diperlukan lagi
// Jika ada elemen ini di HTML, mereka tidak akan tampil karena tidak ada lagi di EvaluationPage.js
.selection-carousel-container,
.selection-carousel,
.carousel-item-wrapper,
.carousel-arrow {
  display: none; 
}


// Gaya Akordeon Penilaian (Step 3) - Disesuaikan untuk tampilan single tokoh
.accordion-penilaian {
  .accordion-item { 
    border: none; 
    border-radius: 1rem !important; 
    margin-bottom: 1.25rem; 
    overflow: hidden; 
    box-shadow: 0 4px 15px rgba(0,0,0,0.07); 
    @include transition;
    &:hover { 
      box-shadow: 0 6px 20px rgba(0,0,0,0.1); 
      transform: translateY(-2px); 
    }
    // Gaya untuk satu accordion item
    .accordion-button { 
      font-weight: 600; 
      color: white; 
      padding: 1.25rem 1.5rem; 
      &:not(.collapsed) { box-shadow: none; } 
      &::after { filter: brightness(0) invert(1); } 
      // Background untuk accordion item tunggal
      background: linear-gradient(135deg, darken($primary, 8%), $primary); 
    }
    .accordion-body { 
      background-color: lighten($primary, 51%); 
    }
  }
}

// Tambahan styling untuk info pegawai yang dipilih di Step 3
.selected-user-info .alert {
    border-radius: 0.5rem;
    padding: 0.8rem 1rem;
    font-size: 0.85rem;
    strong {
      font-size: 1rem;
    }
    small {
      font-size: 0.75rem;
    }
  }


// Kartu Parameter di dalam akordeon
.parameter-card {
  background-color: #fff; border: 1px solid #e9ecef; border-radius: 0.75rem; box-shadow: 0 2px 8px rgba(0,0,0,0.04); padding: 1.25rem; display: flex; flex-direction: column; justify-content: space-between; @include transition;
  &:hover { transform: translateY(-3px); box-shadow: 0 4px 15px rgba(0,0,0,0.08); border-color: $primary; }
}
.parameter-label { font-weight: 500; color: #495057; margin-bottom: 1rem; }
.validation-warning { font-size: 0.8rem; color: #dc3545; margin-top: 0.25rem; display: block; animation: fadeIn 0.3s; }

// Input nilai
.simple-number-input {
  text-align: center; font-size: 1.25rem; font-weight: 700; border-radius: 0.5rem; border: 1px solid #ced4da; padding: 0.5rem; width: 100%; @include transition;
  &:focus { border-color: $primary; box-shadow: 0 0 0 0.25rem rgba($primary, 0.25); outline: none; }
  &.is-invalid { border-color: #dc3545; background-image: none; }
}

// Tombol navigasi
.navigation-buttons {
  display: flex; justify-content: space-between; align-items: center; margin-top: 2rem; gap: 0.75rem;
  .btn {
    flex: 1; padding-top: 0.75rem; padding-bottom: 0.75rem; font-weight: 600;
    @media (min-width: 768px) { flex: 0 1 auto; }
  }
  .btn .d-none.d-md-inline { @media (max-width: 767.98px) { display: inline !important; } }
  .btn span + i, .btn i + span { @media (max-width: 767.98px) { display: none; } }
}

// Responsiveness lainnya
@media (max-width: 768px) {
  .accordion-body { padding: 1.5rem 1rem; }
}